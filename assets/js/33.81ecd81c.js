(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{372:function(e,t,o){"use strict";o.r(t);var a=o(41),r=Object(a.a)({},(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("p",[e._v("In my "),o("RouterLink",{attrs:{to:"/f/how-make-successful-indie-game.html"}},[e._v("last blog post")]),e._v(" about my game "),o("a",{attrs:{href:"https://coredefense.ehmprah.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Core Defense"),o("OutboundLink")],1),e._v(" I raved about how I love JavaScript for making cross-platform games and that I would soon make a boilerplate out of the game's setup. Over half a year later I am sad to announce that I won't be doing such a thing. In lieu, I will explain in this post why I won't. Please keep in mind that this is very opinionated and should be taken with a grain of salt.")],1),e._v(" "),o("h2",{attrs:{id:"the-stack-what-s-it-made-of"}},[e._v("The Stack: What's it made of?")]),e._v(" "),o("ul",[o("li",[e._v("Custom built ECS engine")]),e._v(" "),o("li",[e._v("WebGL rendering via "),o("a",{attrs:{href:"https://github.com/pixijs/pixijs",target:"_blank",rel:"noopener noreferrer"}},[e._v("Pixi.js"),o("OutboundLink")],1)]),e._v(" "),o("li",[e._v("Embedded in a "),o("a",{attrs:{href:"https://github.com/vuejs/vue",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue.js"),o("OutboundLink")],1),e._v(" application")]),e._v(" "),o("li",[e._v("Tests via "),o("a",{attrs:{href:"https://github.com/cypress-io/cypress",target:"_blank",rel:"noopener noreferrer"}},[e._v("Cypress"),o("OutboundLink")],1)]),e._v(" "),o("li",[e._v("Win, Mac, Linux via "),o("a",{attrs:{href:"https://github.com/electron/electron",target:"_blank",rel:"noopener noreferrer"}},[e._v("Electron"),o("OutboundLink")],1),e._v(" & "),o("a",{attrs:{href:"https://github.com/nklayman/vue-cli-plugin-electron-builder",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue CLI Plugin Electron Builder"),o("OutboundLink")],1)]),e._v(" "),o("li",[e._v("Steam SDK integration via "),o("a",{attrs:{href:"https://github.com/greenheartgames/greenworks",target:"_blank",rel:"noopener noreferrer"}},[e._v("Greenworks"),o("OutboundLink")],1)]),e._v(" "),o("li",[e._v("iOS and Android app via "),o("a",{attrs:{href:"https://github.com/ionic-team/capacitor",target:"_blank",rel:"noopener noreferrer"}},[e._v("Capacitor"),o("OutboundLink")],1)]),e._v(" "),o("li",[e._v("IAP via "),o("a",{attrs:{href:"https://github.com/j3k0/cordova-plugin-purchase",target:"_blank",rel:"noopener noreferrer"}},[e._v("Cordova Purchase Plugin"),o("OutboundLink")],1)]),e._v(" "),o("li",[o("a",{attrs:{href:"https://ionic.io/appflow",target:"_blank",rel:"noopener noreferrer"}},[e._v("Ionic Appflow"),o("OutboundLink")],1),e._v(" for iOS and Android builds")]),e._v(" "),o("li",[e._v("Analytics via "),o("a",{attrs:{href:"https://firebase.google.com/docs/analytics",target:"_blank",rel:"noopener noreferrer"}},[e._v("Firebase"),o("OutboundLink")],1)]),e._v(" "),o("li",[e._v("Highscore backend via "),o("a",{attrs:{href:"https://firebase.google.com/products/functions",target:"_blank",rel:"noopener noreferrer"}},[e._v("Firebase Cloud Functions"),o("OutboundLink")],1)]),e._v(" "),o("li",[e._v("Shell scripts for release automation")])]),e._v(" "),o("h2",{attrs:{id:"the-good-one-codebase-to-rule-them-all"}},[e._v("The Good: One Codebase to Rule Them All")]),e._v(" "),o("p",[e._v("Don't get me wrong: I absolutely love JavaScript and would love to continue making games with it. I love my setup for Core Defense and the fact that I have one repository and one codebase which powers everything from Windows, Mac and Linux to iOS and Android.")]),e._v(" "),o("h2",{attrs:{id:"the-good-a-plethora-of-plugins"}},[e._v("The Good: A Plethora of Plugins")]),e._v(" "),o("p",[e._v("The JavaScript ecosystem is awesome, there's a plugin for everything and then some. Because you don't have to reinvent the wheel all the time, your time to market can be extremely short, which is especially useful in the day and age of early access where games are released early on and are continously developed.")]),e._v(" "),o("h2",{attrs:{id:"the-good-responsive-design"}},[e._v("The Good: Responsive Design")]),e._v(" "),o("p",[e._v("Thanks to CSS it's startlingly easy to deliver a game with a responsive design which works on 4k displays just as well as on an old iPhone. You have to design your game accordingly from the start, but the actual implementation is remarkably easy.")]),e._v(" "),o("h2",{attrs:{id:"the-bad-console-support"}},[e._v("The Bad: Console Support")]),e._v(" "),o("p",[e._v("According to my research, getting an HTML5 game to consoles is possible but so much work (see "),o("a",{attrs:{href:"https://www.youtube.com/watch?v=KfBzlzvt8RU",target:"_blank",rel:"noopener noreferrer"}},[e._v("this video"),o("OutboundLink")],1),e._v(" about the CrossCode console port) that in most cases it's easier to just rewrite the game in Unity or Godot. This essentially is the deal breaker for me: I want to be able to publish my games to consoles. Mobile gaming is where the money is, but especially as an indie it's much easier to get a slice of the pie on PC and consoles than it is on mobile and not being able to somewhat comfortably do that is the main reason I'm making my next game with Godot.")]),e._v(" "),o("h2",{attrs:{id:"the-bad-native-addons-and-sdks"}},[e._v("The Bad: Native addons and SDKs")]),e._v(" "),o("p",[e._v("But even for the platforms we can reasonably target with JavaScript: As soon as you leave the comfort of your dev environment and try to package your web application for sale on Steam, the Play Store or the App Store, things start getting complicated.")]),e._v(" "),o("p",[e._v("You will need to somehow interface native SDKs for achievements, purchases and whatnot and you're either at the mercy of plugin developers delivering high quality work – or you're faced with doing that work yourself, improving said plugins or even rolling out your own, thus fiddling with platform specific native code which you wanted to avoid by choosing JavaScript, right?")]),e._v(" "),o("h2",{attrs:{id:"the-bad-dependency-hell"}},[e._v("The Bad: Dependency Hell")]),e._v(" "),o("p",[e._v("The amount of unnecessary fiddling with platform-specific quirks and the countless ugly workarounds I had to find to make it all work together is mindboggling. The current state of my game is a fragile balance between versions of third-party code I can't reasonably change without everything falling apart. Every single time I update one plugin something else breaks and I'm leaving the goldilocks zone of compatibility.")]),e._v(" "),o("h2",{attrs:{id:"the-bad-performance"}},[e._v("The Bad: Performance")]),e._v(" "),o("p",[e._v("The performance is a double-edged sword: I was impressed with the performance I finally squeezed out of my game, especially on mobile. But it took quite a bit of optimization to get there, which is true for all games but much less so for games made in engines like Unity or Godot – but we'll see about that, come back in a year for another post and possibly another changed opinion.")]),e._v(" "),o("h2",{attrs:{id:"the-ugly-firebase-analytics-vs-electron"}},[e._v("The Ugly: Firebase Analytics vs Electron")]),e._v(" "),o("p",[e._v("And from here on out it gets ugly: I have spent way too much time these past few months working around limitations imposed by third-party tools and software. Because I wanted cross-platform analytics for my game and had opted for mobile ads via Google Admob and utilized Firestore and Cloud Functions for my highscore backend, I naturally chose to go with Firebase Analytics, which basically is Google Analytics v4.")]),e._v(" "),o("p",[e._v('Unfortunately, the http endpoint dubbed "Measurement Protocol" for v4 is not available yet, which forces you to use the SDK wrapper, which in turn does not play nice at all with Electron. The SDK only works in a web environment with the HTTP protocol, while Electron uses the file protocol or variations of it. You can imagine the ugly workaround I had to write to overcome this limitation – essentially switching protocols at runtime to trick the SDK into thinking it\'s used in a regular browser.')]),e._v(" "),o("h2",{attrs:{id:"the-ugly-mobile-ads"}},[e._v("The Ugly: Mobile Ads")]),e._v(" "),o("p",[e._v("And while we're speaking of ads: I wanted to use rewarded ads for the mobile versions to allow for some easy extra cash flow through some little bonuses here and there – but boy oh boy was I mistaken. In the end I have spent weeks on a feature which I have since removed completely, replacing all rewarded ad placements with a consumable currency.")]),e._v(" "),o("p",[e._v("Apart from the fact that the implementation was not trivial at all, there are just so many things that can break. So many cryptic config files to get right. And when you finally get it all working ad serving limits are placed on your accounts left and right. I have had tens of thousands of ad requests and only a couple of hundreds of impressions to show for. Oh and did I mention it is borderline impossible to reach the Admob support?")]),e._v(" "),o("p",[e._v("Of course you could argue that there are much better services than Admob, that my implementation was flawed or that proper ad monetization needs a lot of work. But that's exactly the kind of work I wanted to avoid in the first place by using JavaScript. I don't want to implement dozens of different native ad SDKs. I want to install a plugin, configure it and make money with rewarded ads. The current state of the ecosystem does not cater to this need.")]),e._v(" "),o("h2",{attrs:{id:"the-ugly-appflow-vs-electron"}},[e._v("The Ugly: Appflow vs Electron")]),e._v(" "),o("p",[e._v("My monorepo for Core Defense was a thing of beauty for a long time. Enter Appflow, a cloud build service for packaging mobile apps made with Capacitor. I love and still use that service – but it had trouble building for iOS with the Electron packages in my repository, leading to signing issues unless all references to Electron were removed. Ultimately I had to resort to creating a separate sub-package for the mobile versions, symlinking the source folder of the main package. I cringe every time I look at that repo since.")]),e._v(" "),o("h2",{attrs:{id:"all-in-all-room-for-improvement"}},[e._v("All in All: Room for Improvement")]),e._v(" "),o("p",[e._v("All jaded rants aside: I've built a successful game with a programming language I love and I've been massively aided by open source software and cool proprietary tools. But looking back at the overall experience and the missed opportunities I'm going to try new things going forward – as I mentioned before my "),o("a",{attrs:{href:"https://thousandlives.ehmprah.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("next game"),o("OutboundLink")],1),e._v(" will be made with Godot. I'm not expecting this to be the silver bullet, but at this point I'm really keen on trying a framework that was actually made for games instead of endlessly trying to use a wrench as a hammer. If you liked this post, consider bookmarking this blog and coming back in the future, or following me on "),o("a",{attrs:{href:"https://twitter.com/ehmprah",target:"_blank",rel:"noopener noreferrer"}},[e._v("Twitter"),o("OutboundLink")],1),e._v(" for updates. Oh and do ping me there if you've got different experiences or opinions, I'd love to hear your story as well!")]),e._v(" "),o("img",{attrs:{src:"https://vg09.met.vgwort.de/na/0f2ec55ccf0748ec8b5d0404deb4eb91",width:"1",height:"1",alt:""}})])}),[],!1,null,null,null);t.default=r.exports}}]);